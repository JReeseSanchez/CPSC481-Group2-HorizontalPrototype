<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>New Activity</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/newactivity.css">
</head>
<body>
    <header>
        <div id="titleHeader">
            <div>
                <a href="search.html"><button id="navButton">Search</button></a>
                <a href="listItinerary.html"><button id="navButton">List Itineraries</button></a>
            </div>
            <h1 id="title"><a href="home.html">Travel Calgary</a></h1>
            <a href="login.html"><button id="navButton">Sign In</button></a>
        </div>
    </header>

    <div id="mainPage" style="display: flex; justify-content: center; gap: 30px; margin-top: 40px;">

      <div class="back-button-container">
        <a href="javascript:void(0);" class="back-button" id="backButton">&#8592; Go Back</a>
      </div>
    
        <!-- Static Itinerary Preview -->
        <div id="staticItinerary">
            <h3 id="previewTitle">Itinerary Preview</h3>
            <p id="previewStay"></p>
            <ul id="previewActivities" style="text-align: left;"></ul>
        </div>
        
        <!-- Activity Form -->
        <div id="activityContainer">
    
            <h2><u>New Activity</u></h2>

            <p class="subtitle"></p>

            <form id="activityForm" action="clickonitinary.html">
                <div class="formRow">
                    <label for="itinerary">Chose Itinerary</label>
                    <input type="text" id="itinerary" name="itinerary" placeholder="Summer Trip">
                </div>

                <div class="formRow">
                    <label for="day">Select Day</label>
                    <input type="date" id="day" name="day" value="2025-06-29">
                </div>

                <div class="formRow">
                    <label for="start">Start Time</label>
                    <input type="time" id="start" name="start" value="13:00">
                </div>

                <div class="formRow">
                    <label for="end">End Time</label>
                    <input type="time" id="end" name="end" value="15:00">
                </div>

                <button type="submit">+ Create</button>
            </form>
        </div>
    </div>
    <script>
        const tripDays = {
          1: {
            title: "Tuesday, June 17",
            stay: "Fairmont Hotel",
            activities: ["Prince Edward Island", "17th Ave", "Mr. Puffs"]
          },
          2: {
            title: "Wednesday, June 18",
            stay: "Fairmont Hotel",
            activities: ["Breakfast and get ready", "Explore Downtown", "Lunch at Jump Room", "C-Train to Chinook Mall", "Shop and Dine", "C-Train back to Hotel"]
          },
          3: {
            title: "Thursday, June 19",
            stay: "Fairmont Hotel",
            activities: ["Go to Banff", "Visit Lake Louise", "Long Activity Name"]
          }
        };
      
        const params = new URLSearchParams(window.location.search);
        const day = params.get("day");
        const dayData = tripDays[day];
      
        if (dayData) {
          document.getElementById("previewTitle").textContent = dayData.title;
          document.getElementById("previewStay").textContent = `Stay: ${dayData.stay}`;
          const list = document.getElementById("previewActivities");
          dayData.activities.forEach(item => {
            const li = document.createElement("li");
            li.textContent = item;
            list.appendChild(li);
          });
        }

        // Set the back button to navigate to the previous page
        const backButton = document.getElementById('backButton');
        const referrer = document.referrer;

        if (referrer) {
            backButton.href = referrer;
        } else {
            // Fallback if no referrer is available
            backButton.href = "listItinerary.html";
        }
      </script>
</body>      
    
</html>
